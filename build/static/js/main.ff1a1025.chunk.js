(this["webpackJsonphr-app"]=this["webpackJsonphr-app"]||[]).push([[0],{304:function(e,t,a){e.exports=a(455)},346:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=a(185),s=a(29),i=a(21),u=(a(312),a(313),a(314),a(315),a(316),a(24)),m=a(25),p=a(27),d=a(26),h=a(28),E=a(62),f=a(44),y=a.n(f),b=a(41),g=Object(b.a)(),v=a(78),O=a.n(v);a(318),a(320),a(456);O.a.initializeApp({apiKey:"AIzaSyD3BdRVu-Hp1WCdl0qEjXLjKN_6KyOpvP0",authDomain:"nodogoro-charlie.firebaseapp.com",databaseURL:"https://nodogoro-charlie.firebaseio.com",projectId:"nodogoro-charlie",storageBucket:"nodogoro-charlie.appspot.com",messagingSenderId:"978494847774",appId:"1:978494847774:web:b2b150bba1b7cba6dae70f"});var D=O.a.firestore(),N=(O.a.auth(),new O.a.auth.GoogleAuthProvider,O.a.storage()),w=function(e,t,a){return function(n){return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(D.collection("hrms-employees").doc(e).get().then((function(r){!1===r.exists?D.collection("hrms-employees").doc(e).set({email:t,name:a,isAdmin:!1}).then((function(t){g.push("/"),n({type:"LOGIN",payload:e})})):(g.push("/"),n({type:"LOGIN",payload:e}))})));case 2:case"end":return r.stop()}}))}},S=function(){return g.push("/login"),{type:"LOGOUT"}},j=function(){return{type:"DESELECT_EMPLOYEE"}},C=function(e,t){N.ref("hrms/contracts/".concat(t)).put(e).then((function(e){})).catch((function(e){return console.log(e)}))},M=function(){return{type:"CLOSE_MODAL"}},I=function(){return{type:"OPEN_MODAL"}},x=function(e){var t=[];return e.forEach((function(e){t.push(e.data())})),t},L=a(86),k=a(460),A=a(2),T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderProfileOrCalendarIcon=function(){return"profile"===a.props.element?r.a.createElement(L.a,{to:"/",style:{color:"white"}},r.a.createElement(k.a,{className:A.a.MINIMAL,icon:"calendar",text:"Calendar"})):a.props.isAdmin?r.a.createElement(L.a,{to:"/admin",style:{color:"white"}},r.a.createElement(k.a,{className:A.a.MINIMAL,icon:"cog",text:"Manage"})):r.a.createElement(L.a,{to:"/profile",style:{color:"white"}},r.a.createElement(k.a,{className:A.a.MINIMAL,icon:"user",text:"My Profile"}))},a.logout=function(){window.gapi.auth2.getAuthInstance().signOut().then((function(e){return a.props.logout()}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return void 0===this.props.isAdmin?r.a.createElement("div",null):r.a.createElement(k.j,{style:{backgroundColor:"#69c481"}},r.a.createElement(k.l,{align:"left"},r.a.createElement(k.m,{style:{fontSize:"30px",fontFamily:"Comic Sans MS, cursive, sans-serif"}},"HRMS"),r.a.createElement(k.k,null)),r.a.createElement(k.l,{align:"right"},this.renderProfileOrCalendarIcon(),r.a.createElement(k.a,{className:A.a.MINIMAL,text:"Sign Out",icon:"log-out",onClick:this.logout})))}}]),t}(r.a.Component),P=Object(i.b)((function(e){return{isAdmin:e.employee.isAdmin}}),{logout:S})(T),V=(a(346),a(181)),_=a(184),R=a(182),U=a(461),Y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).formatDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.getNumOfDays=function(e,t){var a=Math.abs(t-e);return Math.ceil(a/864e5)+1},a.onSubmit=function(e){var t=e.dates[0],n=e.dates[1],r=a.getNumOfDays(t,n);a.props.remainingDays>=r?a.sendEvent(a.props.name,a.formatDate(t),a.formatDate(new Date(n.getTime()+864e5))).then((function(e){a.props.scheduleVacation(a.props.remainingDays-r),a.props.closeModal()}),(function(e){return console.log(e)})):alert("You only have "+a.props.remainingDays+" days left.")},a.sendEvent=function(e,t,a){var n={summary:"Vacation ( "+e+" )",start:{date:t},end:{date:a}};return window.gapi.client.calendar.events.insert({calendarId:"b2075atruvv2hai75ah9lcr5m0@group.calendar.google.com",resource:n})},a.renderDateInput=function(e){return r.a.createElement("div",{className:"field"},r.a.createElement(U.a,Object.assign({formatDate:function(e){return a.formatDate(e)},parseDate:function(e){return e},allowSingleDayRange:!0,shortcuts:!1},e.input)))},a.renderNumOfDays=function(){if(a.props.vacationDate&&null!==a.props.vacationDate[1])return r.a.createElement("div",{className:"mt-1 col-4"},a.getNumOfDays(a.props.vacationDate[0],a.props.vacationDate[1])," ","Days")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(k.c,{canOutsideClickClose:!1,canEscapeKeyClose:!1,isOpen:this.props.isOpen,onClose:this.props.closeModal,title:"Schedule A Vacation"},r.a.createElement("div",{className:"container mt-4 ml-3"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement("div",{className:"row"},r.a.createElement(V.a,{name:"dates",component:this.renderDateInput}),this.renderNumOfDays()),r.a.createElement("button",{className:"btn btn-md row mt-2",type:"submit",style:{backgroundColor:"#53c270"}},"Submit"))))}}]),t}(r.a.Component),F=Object(_.a)("scheduleVacation"),z=Object(i.b)((function(e){return{isOpen:e.isModalOpen,name:e.employee.name,remainingDays:e.employee.remainingVacationDays,vacationDate:F(e,"dates")}}),{closeModal:M,scheduleVacation:function(e){return function(t,a){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(D.collection("hrms-employees").doc(a().uid).update({remainingVacationDays:e}));case 2:case"end":return t.stop()}}))}}})(Object(R.a)({form:"scheduleVacation"})(Y)),B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderScheduleEvent=function(){},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(P,{element:"calendar"}),r.a.createElement(z,null),r.a.createElement("div",null,r.a.createElement("iframe",{key:this.props.remainingDays,title:"googleCalendar",src:"https://calendar.google.com/calendar/embed?src=b2075atruvv2hai75ah9lcr5m0%40group.calendar.google.com",className:"calendar",frameBorder:"0",scrolling:"no",onLoad:this.renderScheduleEvent}),r.a.createElement("button",{className:"btn ml-2",onClick:function(){return e.props.openModal()},style:{backgroundColor:"#53c270",color:"#111"},hidden:this.props.employee.isAdmin||!this.props.employee.name},"Schedule Vacation")))}}]),t}(r.a.Component),G=Object(i.b)((function(e){return{remainingDays:e.employee.remainingVacationDays,employee:e.employee}}),{openModal:I})(B),H=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={url:""},a.formatDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.renderStartDate=function(){return a.props.employee.startDate?r.a.createElement(k.g,null,a.formatDate(new Date(1e3*a.props.employee.startDate.seconds))):r.a.createElement(k.g,null,"No Data")},a.renderEndDate=function(){return a.props.employee.endDate?r.a.createElement(k.g,null,a.formatDate(new Date(1e3*a.props.employee.endDate.seconds))):r.a.createElement(k.g,null,"No Data")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.employee.email,N.ref().child("hrms/contracts/".concat(e)).getDownloadURL()).then((function(e){return t.setState({url:e})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid ml-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-5"},r.a.createElement(k.f,null,"Start Date: ")),r.a.createElement("div",{className:"col-3 mt-1"},this.renderStartDate())),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-5"},r.a.createElement(k.f,null,"End Date:")),r.a.createElement("div",{className:"col-3 mt-1"},this.renderEndDate())),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-5"},r.a.createElement(k.f,null,"Salary:")),r.a.createElement("div",{className:"col-3 mt-1"},r.a.createElement(k.g,null,void 0===this.props.employee.salary?"No Data":this.props.employee.salary))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-6"},r.a.createElement(k.f,null,"Remaining Vacation Days:")),r.a.createElement("div",{className:"col-3 mt-1"},r.a.createElement(k.g,null,void 0===this.props.employee.remainingVacationDays?"No Data":this.props.employee.remainingVacationDays))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-6"},r.a.createElement(k.f,null,"Total Vacation Days:")),r.a.createElement("div",{className:"col-3 mt-1"},r.a.createElement(k.g,null,void 0===this.props.employee.totalVacationDays?"No Data":this.props.employee.totalVacationDays))),r.a.createElement("a",{hidden:""===this.state.url,className:"row",href:this.state.url?this.state.url:""},"Contract"))}}]),t}(r.a.Component),q=Object(i.b)((function(e){return{employee:e.employee}}))(H),J=(a(452),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderSalaryLog=function(){return 0===a.props.logs.length?r.a.createElement("h4",null,"No Salary Logs"):r.a.createElement("table",{className:"w-100"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Month"),r.a.createElement("th",null,"Gross"),r.a.createElement("th",null,"Taxes"),r.a.createElement("th",null,"Transportation"),r.a.createElement("th",null,"Net"),r.a.createElement("th",null,"Notes"))),r.a.createElement("tbody",null,a.props.logs.map((function(e){return r.a.createElement("tr",{key:e.timestamp.seconds},r.a.createElement("td",null,e.month),r.a.createElement("td",null,e.gross),r.a.createElement("td",null,e.taxes),r.a.createElement("td",null,e.transportation),r.a.createElement("td",null,e.gross-e.taxes+e.transportation),r.a.createElement("td",null,e.notes))}))))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.renderSalaryLog()}}]),t}(r.a.Component)),W=Object(i.b)((function(e){return{logs:e.salaryLogs}}))(J),K=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={navbarTabId:"profileInfo"},a.handleTabChange=function(e){return a.setState({navbarTabId:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSalaryLogs()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,{element:"profile"}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement(k.h,{className:"mt-3",icon:"user",iconSize:120}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement("h1",null,this.props.employee.name),r.a.createElement("h5",{style:{color:"#2B95D6"}},this.props.employee.title))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"col-4 mt-5"},r.a.createElement(k.p,{id:"profile",onChange:this.handleTabChange,selectedTabId:this.state.navbarTabId},r.a.createElement(k.o,{id:"profileInfo",title:"Info",panel:r.a.createElement(q,null)}),r.a.createElement(k.o,{id:"salaryLog",title:"Salary Log",panel:r.a.createElement(W,null),panelClassName:"ember-panel"}),r.a.createElement(k.p.Expander,null))))))}}]),t}(r.a.Component),X=Object(i.b)((function(e){return{employee:e.employee}}),{fetchSalaryLogs:function(){return function(e,t){var a,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(D.collection("hrms-employees").doc(t().uid).collection("salary log").orderBy("timestamp","desc").get());case 2:a=r.sent,n=x(a.docs),e({type:"FETCH_SALARY_LOGS",payload:n});case 5:case"end":return r.stop()}}))}}})(K),Z=["Talk is cheap. Show me the code.","Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live.","Any fool can write code that a computer can understand. Good programmers write code that humans can understand.","Truth can only be found in one place: the code.","A language that doesn't affect the way you think about programming is not worth knowing.","Happiness should be a function without any parameters.","Delivering good software today is often better than perfect software tomorrow, so finish things and ship.","The best thing about a boolean is even if you are wrong, you are only off by a bit.","Before software can be reusable it first has to be usable.","It\u2019s not a bug \u2013 it\u2019s an undocumented feature.","Walking on water and developing software from a specification are easy if both are frozen.","In order to understand recursion, one must first understand recursion."],Q=(a(453),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={quote:Z[Math.floor(Math.random()*Z.length)]},a.onAuthChange=function(e){e?"gmail.com"===a.auth.currentUser.get().getBasicProfile().getEmail().split("@")[1]?(a.props.login(a.auth.currentUser.get().getId(),a.auth.currentUser.get().getBasicProfile().getEmail(),a.auth.currentUser.get().getBasicProfile().getName()),a.props.fetchEmployee(a.auth.currentUser.get().getId())):(a.auth.signOut(),alert("Unauthorized")):a.props.logout()},a.onSignInClick=function(){a.auth.signIn()},a.renderSpinner=function(){return a.props.isLoggedIn?r.a.createElement(k.n,{intent:"success",size:"70"}):window.gapi.auth2?r.a.createElement("button",{className:"btn",style:{color:"white",borderRadius:"20px",backgroundColor:"#69c481"},onClick:a.onSignInClick},"Login with google"):r.a.createElement(k.n,{intent:"success",size:"70"})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){return window.gapi.client.init({clientId:"978494847774-ipsp5454ms4qascu0848i92mj9412k8o.apps.googleusercontent.com",scope:"email https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.events",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],apiKey:"AIzaSyA4aO4Ga-yRkr1PHcB4wc4otZaR_XtbzkY"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"container col-4",style:{paddingTop:"20%"}},r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-4"},r.a.createElement("h1",{className:"bp3-heading title",style:{fontSize:"90px"}},"HRMS"))),this.renderSpinner(),r.a.createElement("div",{className:"row mt-4 .bp3-ui-text text-center",style:{fontSize:"20px"}},r.a.createElement("q",{className:"col"},this.state.quote))))}}]),t}(r.a.Component)),$=Object(i.b)((function(e){return{isLoggedIn:""!==e.uid}}),{login:w,logout:S,fetchEmployee:function(e){return function(t){return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D.collection("hrms-employees").doc(e).onSnapshot((function(e){t({type:"FETCH_EMPLOYEE",payload:e.data()})}),(function(e){return console.log(e)})));case 1:case"end":return a.stop()}}))}}})(Q),ee=a(71),te=a(58),ae=a(180),ne=a(462),re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onSubmit=function(e){a.props.insertSalaryLog(e).then((function(){return a.props.reset()}))},a.formatDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.renderTextInput=function(e){return r.a.createElement("label",{className:"bp3-label"},e.label,r.a.createElement(k.i,e.input))},a.renderDateInput=function(e){return r.a.createElement("label",{className:"bp3-label"},e.label,r.a.createElement(ne.a,Object.assign({formatDate:function(e){return a.formatDate(e)},parseDate:function(e){return e}},e.input,{popoverProps:{onOpened:function(e){document.querySelector('.DayPicker-Day[tabindex="0"]').addEventListener("blur",(function(e){e.stopImmediatePropagation()}))}}})))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(k.c,{canOutsideClickClose:!1,canEscapeKeyClose:!1,isOpen:this.props.isOpen,onClose:this.props.closeModal,title:"Insert Salary Log"},r.a.createElement("div",{className:"container mt-3"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(V.a,{name:"gross",component:this.renderTextInput,label:"Gross",parse:function(e){return Number(e)}}),r.a.createElement(V.a,{name:"transportation",component:this.renderTextInput,label:"Transportation",parse:function(e){return Number(e)}}),r.a.createElement(V.a,{name:"taxes",component:this.renderTextInput,label:"Taxes",parse:function(e){return Number(e)}}),r.a.createElement(V.a,{name:"notes",component:this.renderTextInput,label:"Notes"}),r.a.createElement(V.a,{name:"timestamp",component:this.renderDateInput,label:"Pay Date"}),r.a.createElement("label",{className:"bp3-label row"},r.a.createElement("span",{className:"col-3 ml-1"},"Month"),r.a.createElement(V.a,{name:"month",component:"select",className:"col-3"},r.a.createElement("option",null),r.a.createElement("option",{value:"January"},"January"),r.a.createElement("option",{value:"February"},"February"),r.a.createElement("option",{value:"March"},"March"),r.a.createElement("option",{value:"April"},"April"),r.a.createElement("option",{value:"May"},"May"),r.a.createElement("option",{value:"June"},"June"),r.a.createElement("option",{value:"July"},"July"),r.a.createElement("option",{value:"August"},"August"),r.a.createElement("option",{value:"September"},"September"),r.a.createElement("option",{value:"October"},"October"),r.a.createElement("option",{value:"November"},"November"),r.a.createElement("option",{value:"December"},"December"))),r.a.createElement("button",{className:"btn",style:{backgroundColor:"#53c270"},type:"submit"},"Submit"))))}}]),t}(r.a.Component),oe=Object(i.b)((function(e){return{isOpen:e.isModalOpen,initialValues:{timestamp:new Date(Date.now())}}}),{closeModal:M,insertSalaryLog:function(e){return function(t,a){return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(D.collection("hrms-employees").where("email","==",a().selectedEmployee.email).get().then((function(t){return t.docs[0].ref.collection("salary log").add({gross:e.gross,taxes:e.taxes,transportation:e.transportation,notes:e.notes,timestamp:e.timestamp,month:e.month})})));case 2:t(M());case 3:case"end":return n.stop()}}))}}})(Object(R.a)({form:"salaryLog"})(re)),le=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={contract:null},a.onFileUploadChange=function(e){a.setState({contract:e.target.files[0]})},a.onUploadButtonClick=function(){C(a.state.contract,a.props.email)},a.onSubmit=function(e){a.props.editEmployee(e,a.props.email)},a.formatDate=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.renderTextInput=function(e){return r.a.createElement("div",null,r.a.createElement("label",{className:"bp3-label"},e.label,r.a.createElement(k.i,e.input)),a.renderError(e.meta))},a.renderDateInput=function(e){return r.a.createElement("label",{className:"bp3-label"},e.label,r.a.createElement(ne.a,Object.assign({formatDate:function(e){return a.formatDate(e)},parseDate:function(e){return e},maxDate:new Date(2025,12,31)},e.input,{popoverProps:{onOpened:function(e){document.querySelector('.DayPicker-Day[tabindex="0"]').addEventListener("blur",(function(e){e.stopImmediatePropagation()}))}}})))},a.renderUploadContract=function(){return r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-3"}),r.a.createElement("div",{className:"col-5"},r.a.createElement(k.e,{style:{width:"10vw"},text:"Choose a Contract...",onInputChange:a.onFileUploadChange})),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn-sm",onClick:a.onUploadButtonClick,style:{border:"1px solid gray"}},"Upload")))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("span",{style:{color:ae.a.RED3}},t)}},{key:"render",value:function(){return r.a.createElement(k.b,{className:"col-6",elevation:te.a.TWO},r.a.createElement(oe,null),r.a.createElement("div",{className:"row ml-2"},r.a.createElement("div",{className:"col-5"},r.a.createElement("h5",null,this.props.name)),r.a.createElement("div",{className:"col-5"},r.a.createElement(k.a,{icon:"dollar",onClick:this.props.openModal},"Insert Salary Log"))),this.renderUploadContract(),r.a.createElement(k.d,{className:"mt-3"}),r.a.createElement("h5",{className:"mt-3"},"Edit Employee"),r.a.createElement("form",{className:"mt-3",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(V.a,{name:"name",component:this.renderTextInput,label:"Name"}),r.a.createElement(V.a,{name:"title",component:this.renderTextInput,label:"Title"}),r.a.createElement(V.a,{name:"salary",component:this.renderTextInput,label:"Salary",parse:function(e){return Number(e)}}),r.a.createElement(V.a,{name:"startDate",component:this.renderDateInput,label:"Start Date"}),r.a.createElement(V.a,{name:"endDate",component:this.renderDateInput,label:"End Date"}),r.a.createElement(V.a,{name:"totalVacationDays",component:this.renderTextInput,label:"Total Vacation Days",parse:function(e){return Number(e)}}),r.a.createElement(V.a,{name:"remainingVacationDays",component:this.renderTextInput,label:"Remaining Vacation Days",parse:function(e){return Number(e)}}),r.a.createElement("button",{className:"btn",type:"submit",style:{backgroundColor:"#53c270",color:"#111"}},"Submit"),r.a.createElement("button",{className:"btn ml-2",onClick:this.props.deselectEmployee,style:{border:"2px solid gray"}},"Cancel")))}}]),t}(r.a.Component),ce=Object(i.b)((function(e){return{email:e.selectedEmployee.email,name:e.selectedEmployee.name,initialValues:{title:e.selectedEmployee.title,name:e.selectedEmployee.name,salary:e.selectedEmployee.salary,totalVacationDays:e.selectedEmployee.totalVacationDays,remainingVacationDays:e.selectedEmployee.remainingVacationDays,startDate:e.selectedEmployee.startDate?new Date(1e3*e.selectedEmployee.startDate.seconds):new Date(2e3,1,1),endDate:e.selectedEmployee.endDate?new Date(1e3*e.selectedEmployee.endDate.seconds):new Date(2e3,1,1)}}}),{deselectEmployee:j,editEmployee:function(e,t){return function(a){return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:D.collection("hrms-employees").where("email","==",t).limit(1).get().then((function(t){t.docs[0].ref.update(e),a({type:"DESELECT_EMPLOYEE"})}));case 1:case"end":return n.stop()}}))}},openModal:I})(Object(R.a)({form:"editEmployee",enableReinitialize:!0})(le)),se=(a(454),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={sideMenuWidth:"0px",mainMargin:"0px"},a.openSideMenu=function(){a.setState({sideMenuWidth:"250px",mainMargin:"250px"})},a.closeSideMenu=function(){a.setState({sideMenuWidth:"0px",mainMargin:"0px"})},a.renderEmployeeEdit=function(){if(null!==a.props.selectedEmployee)return r.a.createElement(ce,null)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllEmployees()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"sidenav",style:{width:this.state.sideMenuWidth}},r.a.createElement("span",{className:"closebtn",onClick:this.closeSideMenu},"x"),this.props.employees.map((function(t){return r.a.createElement("span",{key:t.email,onClick:function(){Object(ee.a)("editEmployee"),e.props.selectEmployee(t)}},t.name)}))),r.a.createElement("div",{className:"main",style:{marginLeft:this.state.mainMargin}},r.a.createElement(P,{element:"profile"}),r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-3"}),r.a.createElement(k.b,{className:"col-4",elevation:te.a.TWO},r.a.createElement("h3",null,r.a.createElement("div",null,"Dashboard")),r.a.createElement("p",null,"Number of Employees: ",this.props.employees.length),r.a.createElement(k.a,{onClick:this.openSideMenu},"Show Employees"))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-2"}),this.renderEmployeeEdit()))))}}]),t}(r.a.Component)),ie=Object(i.b)((function(e){return{employees:e.employees,selectedEmployee:e.selectedEmployee}}),{fetchAllEmployees:function(){return function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",D.collection("hrms-employees").onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"FETCH_ALL_EMPLOYEES",payload:a})})));case 1:case"end":return t.stop()}}))}},selectEmployee:function(e){return{type:"SELECT_EMPLOYEE",payload:e}}})(se),ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).renderProfileRoute=function(){return a.props.isAdmin?r.a.createElement(E.a,{path:"/admin",exact:!0,component:ie}):r.a.createElement(E.a,{path:"/profile",exact:!0,component:X})},""===e.uid&&g.push("login"),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid",style:{height:"100vh",backgroundColor:"#eeeeee"}},r.a.createElement(E.b,{history:g},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/login",exact:!0,component:$}),r.a.createElement(E.a,{path:"/",exact:!0,component:G}),this.renderProfileRoute())))}}]),t}(r.a.Component),me=Object(i.b)((function(e){return{uid:e.uid,isAdmin:e.employee.isAdmin}}),{login:w,logout:S})(ue),pe=a(183),de=a(189),he=Object(s.c)({uid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload;case"LOGOUT":return"";default:return e}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EMPLOYEE":return Object(de.a)({},t.payload);default:return e}},employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_EMPLOYEES":return t.payload;default:return e}},selectedEmployee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_EMPLOYEE":return t.payload;case"DESELECT_EMPLOYEE":return null;default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLOSE_MODAL":return!1;case"OPEN_MODAL":return!0;default:return e}},salaryLogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SALARY_LOGS":return t.payload;default:return e}},form:pe.a});l.a.render(r.a.createElement(i.a,{store:Object(s.d)(he,Object(s.a)(c.a))},r.a.createElement(me,null)),document.querySelector("#root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.ff1a1025.chunk.js.map